<ion-header>
 
</ion-header>

<ion-content padding>
  <div class="spinner-wrapper">
    <ion-spinner *ngIf="this.pageloading; else elseBlock" name="crescent" class="pageload-spinner"></ion-spinner>
  </div>
  <ng-template #elseBlock>
      <ion-grid>
        <div class="login-container">
            <ion-row>
              <ion-col>
                <div class="login-title">
                <h1 ion-text>Log In</h1>
                </div>
              </ion-col>
          
          </ion-row>
          <form [formGroup]="loginform">
              <ion-row>
                <ion-col>
                  <ion-item>
                    <mat-form-field class="signin-full-width" appearance="outline">
                      <mat-label>UserName or Email</mat-label>
                      <input matInput formControlName="usernameOrEmail" [errorStateMatcher]="matcher"
                            placeholder="UserName or Email">
                      <mat-hint>(between 4 and 30 characters)</mat-hint>
                      <mat-error *ngIf="usernameOrEmailValue.hasError('required')">
                        Username or Email <strong>required!</strong>
                      </mat-error>
                    </mat-form-field>

                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col>
                  <ion-item class="login-password">
                    <mat-form-field class="signin-full-width" appearance="outline">
                      <mat-label>Password</mat-label>
                      <input matInput formControlName="password" [errorStateMatcher]="matcher"
                              placeholder="Ex. john@123" type="password">
                      <mat-hint>(between 6 and 20 characters)</mat-hint>
                      <mat-error *ngIf="passwordValue.hasError('minLength') || passwordValue.hasError('maxLength') ||  !passwordValue.hasError('required')">
                          Please enter a valid password
                      </mat-error>
                      <mat-error *ngIf="passwordValue.hasError('required')">
                          Password is <strong>required!</strong>
                      </mat-error>
                  </mat-form-field>

                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col class="login-btn">
                  <ion-button type="button" [disabled]="loginloading" expand="block" color="primary" (click)="loginSubmit()">
                    <ion-spinner name="crescent" *ngIf="loginloading; else textDisplay"></ion-spinner>
                    <ng-template #textDisplay>
                      Log In
                    </ng-template>
                    
                  </ion-button>
                </ion-col>
              </ion-row>
          </form>
          <ion-row>
            <ion-col>
              <ion-item-divider></ion-item-divider>
            </ion-col>
            <ion-col>
              <h5 class="login-ortext">OR</h5>
            </ion-col>
            <ion-col>
              <ion-item-divider></ion-item-divider>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <p class="register-msg">New to Xtrack? Register <span class="register-link" (click)="routeFunction('/register')">here</span></p>
            </ion-col>
          </ion-row>
        </div>
      </ion-grid>
  </ng-template>
</ion-content>